[SERVICE]
    flush        5
    daemon       off
    log_level    info
    storage.path /var/log/flb-storage/
    workers      4

[INPUT]
    Name        forward
    Listen      0.0.0.0
    Port        24224

# Add hostname and environment tags to all logs
[FILTER]
    Name        record_modifier
    Match       *
    Record      hostname ${HOSTNAME}
    Record      environment production

[FILTER]
    Name        record_modifier
    Match       setup.*
    Record      service setup

[FILTER]
    Name        record_modifier
    Match       nginx.*
    Record      service nginx

[FILTER]
    Name        record_modifier
    Match       redis.*
    Record      service redis

[FILTER]
    Name        record_modifier
    Match       postgres_db.*
    Record      service postgres_db

[FILTER]
    Name        record_modifier
    Match       pgadmin.*
    Record      service pgadmin

[FILTER]
    Name        record_modifier
    Match       kafka.*
    Record      service kafka

[FILTER]
    Name        record_modifier
    Match       gateway.*
    Record      service gateway

[FILTER]
    Name        record_modifier
    Match       auth.*
    Record      service auth

[FILTER]
    Name        record_modifier
    Match       chat.*
    Record      service chat

[FILTER]
    Name        record_modifier
    Match       dash.*
    Record      service dash

[FILTER]
    Name        record_modifier
    Match       game.*
    Record      service game

[FILTER]
    Name        record_modifier
    Match       frontend.*
    Record      service frontend

[OUTPUT]
    Name   tcp
    Match  *
    Host   logstash
    Port   5000
    Format json_lines
